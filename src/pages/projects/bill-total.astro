---
import ProjectLayout from "@/layouts/ProjectLayout.astro";
---

<ProjectLayout title="Bill Total">
<h1 class="centered">Bill Total</h1>
<section>
  <h2>Project Overview</h2>
  <p>This project demonstrates a simple lunch ordering system where users select items, and the total cost
    updates in real-time based on their choices.</p>
</section>
<section>
  <h2>Full Working Example</h2>
  <div class="order-example">
    <article>
      <h1>Lunch Selections</h1>
      <form id="menuForm">
        <div class="menu-item">
          <input type="checkbox" class="menuItem" id="item0" value="11.95">
          <label for="item0">Fried chicken ($11.95)</label>
        </div>
        <div class="menu-item">
          <input type="checkbox" class="menuItem" id="item1" value="13.95">
          <label for="item1">Fried halibut ($13.95)</label>
        </div>
        <div class="menu-item">
          <input type="checkbox" class="menuItem" id="item2" value="10.95">
          <label for="item2">Hamburger ($10.95)</label>
        </div>
        <div class="menu-item">
          <input type="checkbox" class="menuItem" id="item3" value="17.95">
          <label for="item3">Grilled salmon ($17.95)</label>
        </div>
        <div class="menu-item">
          <input type="checkbox" class="menuItem" id="item4" value="8.95">
          <label for="item4">Side salad ($8.95)</label>
        </div>
      </form>
        <strong>Total Order Cost:</strong> <span id="totalCost">$0.00</span>
    </article>
  </div>
</section>
<!-- Explanation -->
<section>
  <h2>Explanation</h2>
  <h3>HTML Structure&nbsp;<a
      href="https://github.com/tinkernerd/isys115/tree/master/src/views/projects/bill-total.html"
      class="github-button" target="_blank" rel="noopener noreferrer">
      <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo"
        class="github-logo">
      <code>bill-total.html</code></a></h3>
  <p>The HTML structure consists of checkboxes representing menu items, each with a price value. The total order
    cost is displayed in real time based on selections.</p>
</section>
<section>
  <h3>JavaScript Code Explanation&nbsp;<a
      href="https://github.com/tinkernerd/isys115/tree/master/src/views/projects/bill-total.html"
      class="github-button" target="_blank" rel="noopener noreferrer">
      <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo"
        class="github-logo">
      <code>bill-total.js</code></a></h3>
  <p>The JavaScript code calculates the total cost based on selected menu items. Each checkbox is linked
    to the <code>calcTotal</code> function through an event listener. The total is formatted as currency
    and displayed in real time.</p>
</section>
  </div>
</ProjectLayout>
<script is:inline>
  // Menu items and their prices
const menuItems = [
  { name: "Fried chicken", price: 11.95 },
  { name: "Fried halibut", price: 13.95 },
  { name: "Hamburger", price: 10.95 },
  { name: "Grilled salmon", price: 17.95 },
  { name: "Side salad", price: 8.95 },
];

// Function to calculate total cost
function calculateTotal() {
  const checkboxes = document.querySelectorAll(".menuItem");
  let total = 0;

  checkboxes.forEach((checkbox) => {
    if (checkbox.checked) {
      total += parseFloat(checkbox.value);
    }
  });

  document.getElementById("totalCost").textContent = formatCurrency(total);
}

// Function to format a number as currency
function formatCurrency(value) {
  return `$${value.toFixed(2)}`;
}

// Add event listeners to checkboxes
document.querySelectorAll(".menuItem").forEach((checkbox) => {
  checkbox.addEventListener("change", calculateTotal);
});
</script>

<style>
  .order-example {
  max-width: 600px;
  padding: 20px;
  margin-bottom: 20px;

  /* Title Styling */
  h1 {
      font-size: 2em;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
  }

  /* Form Layout */
  form {
      display: flex;
      flex-direction: column;
      gap: 12px;
  }

  /* Menu Item Styling */
  .menu-item {
      display: flex;
      align-items: center;

      input[type="checkbox"] {
          margin-right: 10px;
          transform: scale(1.2);
          accent-color: #2a7ae2;
      }

      label {
          font-size: 1em;
          font-weight: 400;
          cursor: pointer;

          &:hover {
              color: #2a7ae2;
          }
      }

      input[type="checkbox"]:checked+label {
          color: #2a7ae2;
      }
  }
    /* Add spacing below the last menu item */
  .menu-item:last-of-type {
      margin-bottom: 20px;
  }

}
</style>