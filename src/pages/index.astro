---
import MainLayout from '../layouts/MainLayout.astro';
import projects from "@/data/projects";
import ProjectCard from "@/components/ProjectCard.astro"; // Import the reusable card component

// Filter projects that have the 'aviation' tag (case insensitive)
const aviationProjects = projects.filter((project) =>
  project.tags.some((t) => t.toLowerCase() === 'aviation')
);
---

<MainLayout title="Home" description="Home page">
  <header>
    <img src="https://media.tinkernerd.dev/logos/dev-banner.png" alt="Header Image">
    <h1>👋 Howdy, I'm Nick!</h1>
    <h2>Aka <em>"The Tinkering Nerd"</em></h2>
    <p>Welcome to my little corner of the web, where old-school curiosity meets cutting-edge innovation. 🚀</p>
    <p>This site is a collection of my projects, passions, and explorations across various domains.</p>
    <nav class="list-header-nav">
        <a href="#working-on">What I'm Working On</a>
        <a href="#notes">Notes</a>
        <a href="#projects">Projects</a>
        <a href="#aviation">Aviation</a>
        <a href="#other-things">Other Things</a>
    </nav>
</header>

<section id="working-on">
    <h2>🔭 What I'm Working On</h2>
    <ul>
        <li>Refining my website — <a href="https://tinkernerd.dev">Tinkernerd.dev</a></li>
        <li>Organizing and hosting my notes on GitHub</li>
        <li>Developing a reusable Notes page with Astro at <a href="https://docs.tinkernerd.dev">docs.tinkernerd.dev</a></li>
        <li>Working on my Private Pilot License (PPL) 🛩️</li>
    </ul>
</section>

<section id="notes">
    <h2>📚 Notes</h2>
    <p>Check back soon or visit my <a href="https://github.com/tinkernerd">GitHub</a> for updates.</p>
    <p>Here are my current note repos:</p>
    <ul>
        <li><a href="https://github.com/tinkernerd/FlightVault">FlightVault</a> - My aviation notes and resources.</li>
        <li><a href="https://github.com/tinkernerd/TinkerVault">TinkerVault</a> - A collection of my various notes and resources.</li>
        <li><a href="https://github.com/tinkernerd/BibleVault">BibleVault</a> - Bible study notes and resources.</li>
        <li><a href="https://github.com/tinkernerd/DevVault">DevVault</a> - Programming and development notes.</li>
        <li><a href="https://github.com/tinkernerd/PhotoVault">PhotoVault</a> - Photography Notes | Not much at this point</li>
        <li><a href="https://github.com/tinkernerd/CookBookVault">CookBook Vault</a> - Recipies</li>
    </ul>
    <p>Possibly looking at merging them all back into Tinkervault</p>
</section>

<section id="projects">
    <h2>💡 My Projects</h2>
    <p>I love building and tinkering with automation tools, web development, hardware projects, and open-source contributions.</p>
    <p>Want to explore more? Check out the <a href="/projects">full list of projects</a>.</p>
</section>

<section id="aviation">
    <h2>✈️ Aviation</h2>
    <p>I’m currently training for my Private Pilot License (PPL) and exploring aviation history and flight simulation.</p>
    <p>See my notes @ <a href="https://github.com/tinkernerd/flightvault">aviation notes</a>, or see some of the photos I've taken over <a href="https://photos.tinkernerd.dev">Here</a>.</p>
    <div class="aviationProjects">
      <h3> Aviation Projects</h3>
      <p>I've made some project that help me with getting into aviation.</p>
      <div class="projects">
        {aviationProjects.length > 0 ? (
          aviationProjects.map((project) => (
            <ProjectCard {...project} />
          ))
        ) : (
          <p>No aviation projects found.</p>
        )}
      </div>
    </div>
</section>

<section id="other-things">
    <h2>🏃‍♂️ Other Things</h2>
    <p>When I’m not coding, I stay active and explore the outdoors. Here’s a live look at my Strava activity:</p>
    <div class="strava-activity">
      <iframe height='160' width='300' style='border: none;' allowtransparency='true' scrolling='no' src='https://www.strava.com/athletes/72133560/activity-summary/94e75d2f8f109991f80ee7db2958cd4956d61795'></iframe>
    </div>
</section>
<footer>
  <p><em>Keep tinkering, keep building! 🚀</em></p>
</footer>

</MainLayout>
<style>
  .projects {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: space-between;
  }
</style>